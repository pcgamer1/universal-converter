{"version":3,"sources":["config.js","helpers/api.js","hooks/api.js","constants/formFields.js","helpers/formItem.js","components/Convert.js"],"names":["module","exports","axios","defaults","baseURL","BASE_URL","loadAPI","url","a","opts","onSuccess","data","onFailure","error","secure","defaultData","headers","options","res","status","undefined","loading","response","request","e","message","Error","defaultAPIResponse","FORM_ELEMENT_TYPES","Option","Select","CheckboxGroup","Checkbox","Group","getFinalStringForSearch","searchKeys","customTitle","item","s","concat","forEach","i","props","name","action","file","Promise","resolve","reject","setTimeout","reader","FileReader","addEventListener","result","readAsDataURL","FormItem","key","rules","kwargs","type","others","customLabel","noLabel","formOptions","Item","label","charAt","toUpperCase","slice","size","Dragger","style","maxHeight","width","className","InboxOutlined","p1","p2","shouldUpdate","selectOptions","map","index","search","value","fontSize","fontWeight","dataKeys","flexWrap","marginLeft","marginRight","toString","radioOptions","onChange","date","console","log","picker","checkOptions","valuePropName","Convert","useState","from","setFrom","to","setTo","selectedFrom","setSelectedFrom","selectedTo","setSelectedTo","setResult","isDisabled","setIsDisabled","setLoading","Form","useForm","form","mapping","setResponse","refresh","setRefresh","reload","ox","JSON","stringify","useEffect","load","then","useAPI","Object","keys","downloadStyle","backgroundColor","color","opacity","transition","paddingLeft","paddingRight","span","requiredMark","onFinish","originFileObj","req","FormData","append","post","params","format","convertTo","resp","formItem","required","placeholder","val","info","fileList","success","htmlType","onClick","resetFields","blob1","Blob","String","link","window","URL","webkitURL","createObjectURL","document","createElement","download","href","body","appendChild","click","removeChild"],"mappings":"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","file":"static/js/4.9ad54eba.chunk.js","sourcesContent":["module.exports = {\n  'LOCAL_BASE_URL': 'http://localhost:3001',\n  'BASE_URL': 'http://converterbackend.herokuapp.com'\n}","import axios from 'axios';\n\nimport {BASE_URL, LOCAL_BASE_URL} from '../config'\n\nif(process.env.NODE_ENV != 'production') {\n  axios.defaults.baseURL = LOCAL_BASE_URL\n}\nelse {\n  axios.defaults.baseURL = BASE_URL\n}\n\nexport const loadAPI = async (url, opts = {}) => {\n  const {\n    onSuccess = (data) => data,\n    onFailure = (error) => error,\n    secure = false,\n    defaultData,\n    headers,\n    ...options\n  } = opts;\n\n  try {\n    const res = await axios(url, {\n      headers: {\n        // ...(secure ? { Authorization: `Bearer ${await getAccessToken()}` } : {}),\n        ...headers,\n      },\n      ...options,\n    });\n\n    const { data, status } = res;\n    await onSuccess(data);\n    return { data, status, error: undefined, loading: false };\n  } catch (error) {\n    if (error.response) {\n      const { data, status } = error.response;\n      await onFailure(data);\n      return { data: undefined, status, error: data, loading: false };\n    }\n\n    if (error.request) {\n      const e = { message: 'error in request setup' };\n      // noinspection JSCheckFunctionSignatures\n      return { data: undefined, status: 0, error: e, loading: false };\n    }\n\n    throw Error(error);\n  }\n};\n","import { useEffect, useState } from 'react';\n\nimport { loadAPI } from '../helpers/api';\n\nconst defaultAPIResponse = {\n  loading: true,\n  data: undefined,\n  error: null,\n  status: 0,\n};\n\nexport const useAPI = (url, opts={}) => {\n  const { defaultData, ...options } = opts;\n  const [response, setResponse] = useState(defaultAPIResponse);\n  const [refresh, setRefresh] = useState(0);\n  const reload = () => setRefresh(refresh + 1);\n  \n  const ox = JSON.stringify(options);\n\n  useEffect(() => {\n    setResponse(defaultAPIResponse);\n    const load = async () => {\n      setResponse({ data: undefined, status: 200, error: undefined, loading: true });\n      if (defaultData)\n        setResponse({ data: defaultData, status: 200, error: undefined, loading: false });\n      // noinspection JSCheckFunctionSignatures\n      setResponse(await loadAPI(url, options));\n    };\n\n    load().then();\n\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, [url, ox, refresh]);\n\n  return { ...response, reload };\n};\n","export const FORM_ELEMENT_TYPES = {\n  INPUT: 'input',\n  MULTIPLE_CHECKBOX: 'MULTIPLE_CHECKBOX',\n  INPUT_NUMBER: 'input-number',\n  PASSWORD: 'password',\n  TEXTAREA: 'textarea',\n  MARKDOWN: 'markdown',\n  SELECT: 'select',\n  CAPTCHA: 'captcha',\n  MONTH_PICKER: 'month-picker',\n  FILE_DRAG_DROP: 'file-drag-drop',\n  RANGE_PICKER: 'range-picker',\n  RADIO: 'radio',\n  SWITCH: 'switch',\n  HIDDEN: 'hidden',\n  DATE: 'date',\n  CASCADER: 'cascader',\n};\n\nexport const SUBMIT_FORM = 'SUBMIT_FORM';\n\nexport const CAPTCHA = {\n  type: FORM_ELEMENT_TYPES.CAPTCHA,\n  name: 'captcha',\n  label: 'Captcha',\n  rules: [\n    {\n      required: process.env.NODE_ENV === 'production',\n      message: 'Please solve the captcha',\n    },\n  ],\n};\n","import React from 'react';\nimport {\n  Form,\n  Input,\n  Upload,\n  Select,\n  Radio,\n  DatePicker,\n  Checkbox,\n  InputNumber,\n  message,\n  Switch,\n} from 'antd';\nimport { InboxOutlined } from '@ant-design/icons';\nimport {FORM_ELEMENT_TYPES} from '../constants/formFields';\n\nconst {Option} = Select;\nconst CheckboxGroup = Checkbox.Group;\n\nconst getFinalStringForSearch = (searchKeys, customTitle, item) => {\n  let s = '';\n  if (item[customTitle]) s = s.concat(item[customTitle]);\n  searchKeys.forEach((i) => {\n    if (item[i]) {\n      s = s.concat(' ');\n      s = s.concat(item[i]);\n    }\n  });\n  return s;\n};\n\nconst onCustomRequest = (file) => {\n  return new Promise((resolve, reject) => {\n    const ajaxResponseWasFine = true;\n\n    setTimeout(() => {\n      if (ajaxResponseWasFine) {\n        const reader = new FileReader();\n\n        reader.addEventListener(\n          'load',\n          () => {\n            resolve(reader.result);\n          },\n          false,\n        );\n\n        if (file) {\n          reader.readAsDataURL(file);\n        }\n      } else {\n        reject('error');\n      }\n    }, 1000);\n  });\n};\n\nconst props = {\n  name: 'file',\n  action: onCustomRequest,\n  // onChange(info) {\n  //   const {status} = info.file;\n  //   if (status !== 'uploading') {\n  //     console.log(info.file, info.fileList);\n  //   }\n  //   if (status === 'done') {\n  //     message.success(`${info.file.name} file uploaded successfully.`);\n  //   } else if (status === 'error') {\n  //     message.error(`${info.file.name} file upload failed.`);\n  //   }\n  // },\n};\n\nconst FormItem = ({key, rules, kwargs, type, others, customLabel, noLabel}) => {\n  let formOptions = {};\n  if (others) {\n    if (others.formOptions) {\n      formOptions = others.formOptions;\n    }\n  }\n\n  switch (type) {\n    case FORM_ELEMENT_TYPES.INPUT: {\n      return (\n        <Form.Item\n          key={key}\n          label={noLabel ? null : customLabel || key.charAt(0).toUpperCase() + key.slice(1)}\n          name={key}\n          rules={rules}\n          {...formOptions}>\n          <Input size=\"middle\" {...kwargs} />\n        </Form.Item>\n      );\n    }\n\n    case FORM_ELEMENT_TYPES.INPUT_NUMBER:\n      return (\n        <Form.Item\n          key={key}\n          label={noLabel ? null : customLabel || key.charAt(0).toUpperCase() + key.slice(1)}\n          name={key}\n          rules={rules}\n          {...formOptions}>\n          <InputNumber size=\"middle\" {...kwargs} />\n        </Form.Item>\n      );\n\n    case FORM_ELEMENT_TYPES.FILE_DRAG_DROP:\n      return (\n        <Form.Item\n          key={key}\n          label={noLabel ? null : customLabel || key.charAt(0).toUpperCase() + key.slice(1)}\n          name={key}\n          rules={rules}\n          {...formOptions}>\n          <Upload.Dragger {...kwargs} {...props} style={{maxHeight: '75px', width: '150px'}}>\n            <p className=\"ant-upload-drag-icon\">\n              <InboxOutlined />\n            </p>\n            {others ? (\n              <>\n                <p className=\"ant-upload-text p-1\">{others.p1}</p>\n                <p className=\"ant-upload-hint p-1\">{others.p2}</p>\n              </>\n            ) : null}\n          </Upload.Dragger>\n        </Form.Item>\n      );\n\n    case FORM_ELEMENT_TYPES.SELECT:\n      return (\n        <Form.Item\n          shouldUpdate\n          key={key}\n          label={noLabel ? null : customLabel || key.charAt(0).toUpperCase() + key.slice(1)}\n          name={key}\n          rules={rules}\n          {...formOptions}>\n          <Select {...kwargs}>\n            {others.selectOptions.map((item, index) => (\n              <Option\n                key={index.toString()}\n                search={\n                  others.searchKeys\n                    ? getFinalStringForSearch(others.searchKeys, others.customTitle, item)\n                    : item[others.customTitle]\n                }\n                value={item.value || item[others.key] || item}>\n                {others.customTitle ? (\n                  <text style={{fontSize: 13, fontWeight: 'bold'}}>{item[others.customTitle]}</text>\n                ) : (\n                  item.label || item[others.key] || item\n                )}\n                {others.dataKeys ? (\n                  <div className=\"row\" style={{flexWrap: 'wrap'}}>\n                    {others.dataKeys.map((i) => (\n                      <text style={{fontSize: 11, marginLeft: 5, marginRight: 5}}>{item[i]}</text>\n                    ))}\n                  </div>\n                ) : null}\n              </Option>\n            ))}\n          </Select>\n        </Form.Item>\n      );\n\n    case FORM_ELEMENT_TYPES.RADIO:\n      return (\n        <Form.Item\n          key={key}\n          label={noLabel ? null : customLabel || key.charAt(0).toUpperCase() + key.slice(1)}\n          name={key}\n          rules={rules}\n          {...formOptions}>\n          <Radio.Group value=\"Ggg\">\n            {others.radioOptions.map((item) => (\n              <Radio key={item.value} value={item.value}>\n                {item.label}\n              </Radio>\n            ))}\n          </Radio.Group>\n        </Form.Item>\n      );\n\n    case FORM_ELEMENT_TYPES.DATE:\n      return (\n        <Form.Item\n          key={key}\n          {...formOptions}\n          label={noLabel ? null : customLabel || key.charAt(0).toUpperCase() + key.slice(1)}\n          name={key}\n          rules={rules}>\n          <DatePicker\n            onChange={(date) => console.log(date)}\n            style={others ? (others.style ? others.style : null) : null}\n          />\n        </Form.Item>\n      );\n\n    case FORM_ELEMENT_TYPES.MONTH_PICKER:\n      return (\n        <Form.Item\n          key={key}\n          {...formOptions}\n          label={noLabel ? null : customLabel || key.charAt(0).toUpperCase() + key.slice(1)}\n          name={key}\n          rules={rules}>\n          <DatePicker onChange={(date) => console.log(date)} picker=\"month\" />\n        </Form.Item>\n      );\n\n    case FORM_ELEMENT_TYPES.MULTIPLE_CHECKBOX:\n      return (\n        <Form.Item\n          key={key}\n          label={noLabel ? null : customLabel || key.charAt(0).toUpperCase() + key.slice(1)}\n          name={key}\n          rules={rules}\n          {...formOptions}>\n          <CheckboxGroup onChange={others.onChange}>\n            {others.checkOptions.map((i) => (\n              <Checkbox value={i.value}>{i.label}</Checkbox>\n            ))}\n          </CheckboxGroup>\n        </Form.Item>\n      );\n    case FORM_ELEMENT_TYPES.SWITCH:\n      return (\n        <Form.Item\n          key={key}\n          valuePropName=\"checked\"\n          {...formOptions}\n          label={noLabel ? null : customLabel || key.charAt(0).toUpperCase() + key.slice(1)}\n          name={key}\n          rules={rules}>\n          <Switch {...kwargs} />\n        </Form.Item>\n      );\n    default:\n      return null;\n  }\n};\n\nexport default FormItem;\n","import React, { useEffect, useState } from 'react'\nimport { Row, Col, Form, Button, message, Spin } from 'antd';\nimport  { useAPI } from '../hooks/api'\nimport formItem from '../helpers/formItem'\nimport {FORM_ELEMENT_TYPES} from '../constants/formFields'\nimport axios from 'axios';\n\nimport { BASE_URL, LOCAL_BASE_URL } from '../config'\n\nconst Convert = function () {\n\n  const [from, setFrom] = useState([])\n  const [to, setTo] = useState([])\n  const [file, setFile] = useState()\n  const [selectedFrom, setSelectedFrom] = useState()\n  const [selectedTo, setSelectedTo] = useState()\n  const [result, setResult] = useState()\n  const [isDisabled, setIsDisabled] = useState(true)\n  const [loading, setLoading] = useState(false)\n  const [form] = Form.useForm();\n\n  const { data: mapping } = useAPI('/mapping', {});\n\n  useEffect(() => {\n    if (mapping) {\n      console.log(mapping)\n      setFrom(Object.keys(mapping))\n    }\n  }, [mapping])\n  \n  useEffect(() => {\n    if(selectedFrom) {\n      console.log(Object.keys(mapping[selectedFrom]))\n      setTo(Object.keys(mapping[selectedFrom]))\n    }\n  }, [selectedFrom])\n\n  const submit = (data) => {\n    data.file = data.file.file.originFileObj\n    const req = new FormData()\n    req.append('file', data['file'])\n\n    if(process.env.NODE_ENV != 'production') {\n      axios.defaults.baseURL = LOCAL_BASE_URL\n    }\n    else {\n      axios.defaults.baseURL = BASE_URL\n    }\n\n    setLoading(true);\n\n    axios.post('/converter', req, { params: {\n      type: 'string',\n      format: data['from'],\n      convertTo: data['to']\n    }}).then((resp) => {\n      console.log(resp.data.data)\n      if(data['to'] == 'openapi3') {\n        setResult(resp.data.data)\n      }\n      else {\n        setResult(JSON.stringify(resp.data.data))\n      }\n      setLoading(false)\n      setIsDisabled(false)\n    })\n  }\n\n  const onDownload = () => {\n    var blob1 = new Blob([String(result)], { type: \"text/plain;charset=utf-8\" })\n    var url = window.URL || window.webkitURL\n    var link = url.createObjectURL(blob1)\n    var a = document.createElement(\"a\")\n    a.download = `${selectedFrom}-${selectedTo}`\n    a.href = link;\n    document.body.appendChild(a)\n    a.click();\n    document.body.removeChild(a)\n    setIsDisabled(true)\n    form.resetFields()\n  }\n\n  const onReset = () => {\n    form.resetFields()\n  }\n\n  const downloadStyle = {\n    backgroundColor: '#a0d911',\n    color: 'white',\n    opacity: (isDisabled ? 0 : 1),\n    transition: 'opacity 0.3s',\n    width: '85px',\n    paddingLeft: '0px',\n    paddingRight: '0px'\n  }\n\n  return (\n    <>\n      <br /> <br />\n      <Row>\n        <Col span={9} />\n        <Col span={5}>\n          <Form requiredMark={false} onFinish={submit} form={form}>\n            <br />\n          {\n            formItem({\n              key: 'from',\n              rules: [{required: true, message: 'Please select your input format!'}],\n              kwargs: {\n                placeholder: 'Select',\n                onChange: (val) => {\n                  setSelectedFrom(val)\n                },\n                size: 'middle',\n              },\n              type: FORM_ELEMENT_TYPES.SELECT,\n              others: {\n                selectOptions: from\n              },\n              customLabel: 'From',})\n            }\n            <br />\n            {\n              formItem({\n                key: 'to',\n                rules: [{required: true, message: 'Please select your input format!'}],\n                kwargs: {\n                  placeholder: 'Select',\n                  size: 'middle',\n                  onChange: (val) => {\n                    setSelectedTo(val)\n                  },\n                },\n                type: FORM_ELEMENT_TYPES.SELECT,\n                others: {\n                  selectOptions: to\n                },\n                customLabel: 'To',})\n            }\n            <br />\n            {\n              formItem(\n                {\n                  key: 'file',\n                  rules: [{required: true, message: 'Please upload your file!'}],\n                  kwargs: {\n                    onChange(info) {\n                      const {status} = info.file;\n                      if (status !== 'uploading') {\n                        console.log(info.file, info.fileList)\n                      }\n                      if (status === 'done') {\n                        message.success(`${info.file.name} file uploaded successfully.`)\n                        setLoading(false)\n                      } else if (status === 'error') {\n                        message.error(`${info.file.name} file upload failed.`)\n                      }\n                      else {\n                        setLoading(true)\n                      }\n                    },\n                    size: 'middle',\n                  }, \n                  type: FORM_ELEMENT_TYPES.FILE_DRAG_DROP,\n                  others: null,\n                  customLabel: 'Document',\n                }\n              )\n            }\n            <br />\n            <Row>\n              <Col span={3} />\n              <Button \n                type=\"primary\"\n                htmlType=\"submit\"\n                style={{width: '85px'}}\n              >\n                Convert\n              </Button>\n              <Col span={4} />\n              <Button \n                type=\"primary\"\n                onClick={onReset}\n                style={{width: '85px'}}\n              >\n                Reset\n              </Button>\n            </Row>\n          <br />\n          {\n            loading ? (\n              <Row>\n                <Col span={12} />\n                <Spin />         \n              </Row>\n            ) : (\n              <Row>\n                <Col span={9} />\n                <Button \n                  style={downloadStyle}\n                  onClick={onDownload}\n                >\n                  Download\n                </Button>\n              </Row>\n            )\n          }\n          </Form> \n        </Col>\n      </Row>\n    </>\n  )\n}\n\nexport default Convert"],"sourceRoot":""}